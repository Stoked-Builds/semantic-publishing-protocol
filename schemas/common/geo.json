{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://spp.dev/schemas/common/geo.json",
  "title": "Geographic Point and Bounds",
  "description": "Reusable schema for geographic coordinates with optional altitude/accuracy and bounding box.",
  "$comment": "vNext: add support for polygons and multi-polygons (GeoJSON), CRS definitions, and geodesic distance assertions.",
  "type": "object",
  "oneOf": [
    {
      "title": "Geo Point",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "lat": { "type": "number", "minimum": -90, "maximum": 90 },
        "lng": { "type": "number", "minimum": -180, "maximum": 180 },
        "alt": { "type": "number", "description": "Altitude in meters" },
        "accuracy": { "type": "number", "minimum": 0, "description": "Estimated horizontal accuracy in meters" },
        "geohash": { "type": "string", "pattern": "^[0123456789bcdefghjkmnpqrstuvwxyz]{4,12}$", "description": "Base32 geohash (precision 4â€“12)" }
      },
      "required": ["lat", "lng"]
    },
    {
      "title": "Bounding Box",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "bbox": {
          "type": "array",
          "minItems": 4,
          "maxItems": 4,
          "items": [
            { "type": "number", "minimum": -180, "maximum": 180 },
            { "type": "number", "minimum": -90, "maximum": 90 },
            { "type": "number", "minimum": -180, "maximum": 180 },
            { "type": "number", "minimum": -90, "maximum": 90 }
          ],
          "description": "[west, south, east, north] in lon/lat order"
        }
      },
      "required": ["bbox"]
    }
  ]
}