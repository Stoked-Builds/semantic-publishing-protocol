{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://spp.dev/schemas/publisher-metadata.json",
  "title": "Publisher Metadata",
  "description": "Schema for publisher metadata objects",
  "type": "object",
  "allOf": [
    {
      "$ref": "https://spp.dev/schemas/common/publisher.json"
    },
    {
      "properties": {
        "description": {
          "type": "string",
          "description": "Description of the publisher"
        },
        "founded": {
          "type": "string",
          "format": "date",
          "description": "When the publisher was founded"
        },
        "headquarters": {
          "type": "object",
          "description": "Publisher headquarters location",
          "properties": {
            "city": {
              "type": "string"
            },
            "country": {
              "type": "string"
            },
            "coordinates": {
              "type": "object",
              "properties": {
                "lat": {
                  "type": "number",
                  "minimum": -90,
                  "maximum": 90
                },
                "lng": {
                  "type": "number",
                  "minimum": -180,
                  "maximum": 180
                }
              },
              "required": ["lat", "lng"],
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        },
        "social": {
          "type": "object",
          "description": "Social media links",
          "properties": {
            "twitter": {
              "type": "string",
              "format": "uri"
            },
            "linkedin": {
              "type": "string", 
              "format": "uri"
            },
            "facebook": {
              "type": "string",
              "format": "uri"
            }
          },
          "additionalProperties": false
        },
        "verification": {
          "type": "object",
          "description": "Verification status and credentials",
          "properties": {
            "verified": {
              "type": "boolean",
              "description": "Whether the publisher is verified"
            },
            "verifiedBy": {
              "type": "string",
              "description": "Who verified the publisher"
            },
            "verifiedAt": {
              "type": "string",
              "format": "date-time",
              "description": "When verification occurred"
            },
            "credentials": {
              "type": "array",
              "description": "Array of credential objects",
              "items": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": ["journalist", "expert", "organization", "institution"]
                  },
                  "issuer": {
                    "type": "string"
                  },
                  "issuedAt": {
                    "type": "string",
                    "format": "date-time"
                  }
                },
                "required": ["type", "issuer"],
                "additionalProperties": false
              }
            }
          },
          "additionalProperties": false
        }
      }
    }
  ]
}